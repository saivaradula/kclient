(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[37],{433:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));c(1);var a=c(473),s=c(7);function l(e){const t={ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoImage:"",logoWidth:30,logoHeight:30,logoOpacity:1,qrStyle:"squares",...e.options};return Object(s.jsx)(a.QRCode,{value:e.url,...t})}},695:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(19),l=c(370),r=c.n(l),o=c(433),d=c(474),n=c.n(d),i=c(366),j=c(7);c(376).config();t.default=e=>{const t=Object(s.g)(),[c,l]=Object(a.useState)(!1),[d,m]=Object(a.useState)({id:"",code:"",name:"",sname:"",brand:"",category:"",subcategory:"",cost:"",price:"",quantity:"",alertnum:"",model:"",prtype:"",unit:"",prodimage:"",godawan:"",showOriginalImage:!0}),[h,b]=Object(a.useState)([]),[u,x]=Object(a.useState)(!1);Object(a.useEffect)((()=>{!1===u&&r.a.get("".concat("http://3.144.104.147:3001","/products/details/").concat(e.match.params.id)).then((e=>{let t=e.data[0];m((e=>({...e,id:t.id,code:t.code,name:t.name,sname:t.nickname,brand:t.brand,category:t.category,subcategory:t.subcategory,cost:t.cost,price:t.price,quantity:t.quantity,alertnum:t.alert,model:t.model,prtype:t.prtype,unit:t.unit,godawan:t.godawan,prodimage:t.image,secretCode:t.code}))),r.a.get("".concat("http://3.144.104.147:3001","/category")).then((e=>{b(e.data),x(!0)}))}))}));const O=e=>e.match(/\b(\w)/g).join("").toUpperCase();return x?Object(j.jsxs)(i.u,{className:"row g-3 needs-validation",noValidate:!0,validated:c,onSubmit:c=>{c.preventDefault();!1===c.currentTarget.checkValidity()&&(c.preventDefault(),c.stopPropagation()),l(!0),r.a.post("".concat("http://3.144.104.147:3001","/products/update"),d).then((c=>{200===c.status&&t.push("/products/list/".concat(e.match.params.p))}))},children:[Object(j.jsx)(i.M,{children:Object(j.jsx)(i.m,{xs:12,children:Object(j.jsxs)(i.h,{className:"mb-4",children:[Object(j.jsx)(i.l,{children:Object(j.jsx)("strong",{children:"Add Products to Store"})}),Object(j.jsxs)(i.i,{children:[Object(j.jsxs)(i.M,{className:"mb-4",children:[Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"category",className:"col-form-label",children:"Category"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[h.length?Object(j.jsxs)(i.y,{value:d.category,required:!0,id:"category",onChange:e=>m((t=>({...t,category:e.target.value,subcategory:""}))),children:[Object(j.jsx)("option",{value:"",children:"Choose Category"}),h.map((e=>Object(j.jsx)("option",{value:e.name,children:e.name})))]}):Object(j.jsx)(j.Fragment,{}),Object(j.jsx)(i.v,{invalid:!0,children:"Please Select category."})]}),Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"subcategory",className:"col-form-label",children:"Sub-Category"})}),Object(j.jsx)("div",{className:"col-sm-3",children:Object(j.jsx)(i.w,{type:"text",value:d.subcategory,autocomplete:"off",id:"subcategory",onChange:e=>m((t=>({...t,subcategory:e.target.value}))),onBlur:e=>(e=>{if(""!==e.target.value){let t=O(d.category),c=O(e.target.value);c=t+c,d.secretCode.substring(0,3)!==c&&r.a.get("".concat("http://3.144.104.147:3001","/products/getNextCode/").concat(c)).then((e=>{m((t=>({...t,code:e.data})))}))}else m((e=>({...e,code:d.secretCode})))})(e),placeholder:"Enter Sub Category"})}),Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"productCode",className:"col-form-label",children:"code"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[Object(j.jsx)(i.w,{required:!0,value:d.code,autocomplete:"off",type:"text",id:"productCode",onChange:e=>{m((t=>({...t,code:e.target.value})))},placeholder:"Enter Product Code(Ex: PR-12345)"}),Object(j.jsx)(i.v,{invalid:!0,children:"Please provide product code."})]})]}),Object(j.jsxs)(i.M,{className:"mt-2 mb-4",children:[Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"productName",className:"col-form-label",children:"Name"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[Object(j.jsx)(i.w,{required:!0,value:d.name,autocomplete:"off",type:"text",id:"productName",onChange:e=>{m((t=>({...t,name:e.target.value})))},placeholder:"Enter Product Name"}),Object(j.jsx)(i.v,{invalid:!0,children:"Please enter product name."})]}),Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"productName",className:"col-form-label",children:"NickName"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[Object(j.jsx)(i.w,{required:!0,value:d.sname,autocomplete:"off",type:"text",maxlength:"25",id:"productNickName",onChange:e=>{m((t=>({...t,sname:e.target.value})))},placeholder:"Enter Product Nick(Short) Name"}),Object(j.jsx)(i.v,{invalid:!0,children:"Please enter nick product name."})]}),Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"prtype",className:"col-form-label",children:"Pr.Type"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[Object(j.jsxs)(i.y,{required:!0,id:"prtype",value:d.prtype,onChange:e=>{m((t=>({...t,prtype:e.target.value})))},children:[Object(j.jsx)("option",{value:"",children:"Choose..."}),Object(j.jsx)("option",{value:"new",children:"New"}),Object(j.jsx)("option",{value:"used",children:"Used"}),Object(j.jsx)("option",{value:"antique",children:"Antique"}),Object(j.jsx)("option",{value:"damage",children:"Damage"})]}),Object(j.jsx)(i.v,{invalid:!0,children:"Please select product type."})]})]}),Object(j.jsxs)(i.M,{className:"mt-2 mb-4",children:[Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"model",className:"col-form-label",children:"Brand"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[Object(j.jsx)(i.w,{required:!0,value:d.model,autocomplete:"off",type:"text",id:"model",onChange:e=>{m((t=>({...t,model:e.target.value})))},placeholder:"Enter Brand"}),Object(j.jsx)(i.v,{invalid:!0,children:"Please enter model."})]}),Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"brandName",className:"col-form-label",children:"Size"})}),Object(j.jsxs)("div",{className:"col-sm-3",children:[Object(j.jsx)(i.w,{type:"text",value:d.brand,autocomplete:"off",id:"brandName",onChange:e=>{m((t=>({...t,brand:e.target.value})))},placeholder:"Enter Size"}),Object(j.jsx)(i.v,{invalid:!0,children:"Please enter Brand."})]}),Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.x,{htmlFor:"unitchange",className:"col-form-label",children:"Unit"})}),Object(j.jsx)("div",{className:"col-sm-3",children:Object(j.jsx)(i.w,{type:"text",value:d.unit,autocomplete:"off",id:"unitchange",onChange:e=>{m((t=>({...t,unit:e.target.value})))},placeholder:"Unit. Eg: Kgs/Dozens"})})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)(i.M,{className:"mb-4",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(i.y,{value:d.godawan,id:"godown",onChange:e=>m((t=>({...t,godawan:e.target.value}))),children:[1,2,3,4,5,6,7,8,9,10].map((e=>Object(j.jsxs)("option",{value:e,children:["Godown - ",e]})))})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(i.w,{type:"number",value:d.cost,autocomplete:"off",id:"cost",required:!0,onChange:e=>(e=>{let t=parseInt(e.target.value),c=parseFloat(t+.1*t).toFixed(2);m((e=>({...e,cost:t,price:c})))})(e),placeholder:"Purchased Price"})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(i.w,{type:"number",autocomplete:"off",id:"price",required:!0,value:d.price,disabled:!0,placeholder:"Final Price "})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(i.w,{type:"number",autocomplete:"off",required:!0,value:d.quantity,id:"quantity",onChange:e=>{m((t=>({...t,quantity:e.target.value})))},placeholder:"Enter Quantity"})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(i.w,{type:"number",autocomplete:"off",required:!0,id:"alert",value:d.alertnum,onChange:e=>{m((t=>({...t,alertnum:e.target.value})))},placeholder:"Enter Alerting Quantity"})})]})]})]})})}),Object(j.jsx)(i.M,{children:Object(j.jsx)(i.m,{xs:12,children:Object(j.jsxs)(i.h,{className:"",children:[Object(j.jsx)(i.l,{children:Object(j.jsx)("strong",{children:"Product Image and QR/Bar Codes"})}),Object(j.jsxs)(i.i,{children:[Object(j.jsx)("div",{className:"col-sm-4 mr-2",style:{float:"left"},children:Object(j.jsxs)(i.h,{className:"",children:[Object(j.jsx)(i.l,{children:Object(j.jsx)("strong",{children:"Product Image"})}),Object(j.jsx)(i.i,{children:Object(j.jsxs)("div",{className:"",children:[Object(j.jsxs)("div",{className:"text-center",children:[d.showOriginalImage?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("img",{src:d.prodimage})}):Object(j.jsx)(j.Fragment,{}),Object(j.jsx)("canvas",{id:"canvas",width:"64",height:"64"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"file",id:"input",onChange:e=>{let t=new Image,c=document.getElementById("canvas"),a=c.getContext("2d");t.onload=()=>{let e=t.width,s=t.height,l=Math.min(512/e,512/s),r=e*l,o=s*l;c.width=r,c.height=o,a.drawImage(t,0,0,r,o);let d=c.toDataURL("image/jpeg",.5);m((e=>({...e,prodimage:d,showOriginalImage:!1})))},t.src=URL.createObjectURL(e.target.files[0])},className:"mb-4 mt-4 form-control"})})]})})]})}),Object(j.jsx)("div",{className:"col-sm-4",style:{float:"left"},children:Object(j.jsxs)(i.h,{className:"",children:[Object(j.jsx)(i.l,{children:Object(j.jsx)("strong",{children:"Product QR Code"})}),Object(j.jsx)(i.i,{children:Object(j.jsx)("div",{className:"text-center",children:""!==d.code?Object(j.jsx)(o.a,{url:d.code}):Object(j.jsx)("div",{children:"Enter Product Code to get QR Code"})})})]})}),Object(j.jsx)("div",{className:"col-sm-4",style:{float:"right"},children:Object(j.jsxs)(i.h,{className:"",children:[Object(j.jsx)(i.l,{children:Object(j.jsx)("strong",{children:"Product Bar Code"})}),Object(j.jsx)(i.i,{children:Object(j.jsx)("div",{className:"text-center",children:""!==d.code?Object(j.jsx)(n.a,{value:d.code,width:"2",height:"40"}):Object(j.jsx)("div",{children:"Enter Product Code to get Bar Code"})})})]})})]})]})})}),Object(j.jsx)("hr",{}),Object(j.jsx)(i.m,{xs:12,className:"text-right",children:Object(j.jsxs)(i.M,{className:"mb-4 text-right",children:[Object(j.jsx)("div",{className:"col-sm-1",children:Object(j.jsx)(i.e,{color:"secondary",type:"reset",children:"Clear"})}),Object(j.jsx)("div",{className:"col-sm-3",children:Object(j.jsx)(i.e,{color:"primary",type:"submit",children:"Submit form"})})]})})]}):Object(j.jsx)(j.Fragment,{})}}}]);
//# sourceMappingURL=37.0b378b3c.chunk.js.map